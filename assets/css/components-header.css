/* Header y navegación */
header{
  background:linear-gradient(90deg, var(--c1) 0%, #0b4fa0 100%);
  color:var(--white); padding:.75.0rem var(--space-4);
  display:flex; align-items:center; gap:var(--space-4);
  position:sticky; top:0; z-index: var(--z-header);
}
.logo{height:56px;width:auto;object-fit:contain;display:block}

nav{flex:1;text-align:center}
nav ul{list-style:none;margin:0;padding:0;display:inline-flex;gap:.6rem}

.nav-pill{
  display:inline-flex;align-items:center;gap:.55.0rem;
  background:transparent; border:none; color:var(--white)fffd8;
  padding:.35.0rem .6.0rem; border-radius: var(--radius-pill); cursor:pointer;
  transition:opacity .2s ease, transform .06s ease;
}
.nav-pill:hover,.nav-pill:focus-visible{ opacity:1; color:var(--white); }
.nav-pill:active{ transform:translateY(1px); }
.nav-ic{ width:22px; height:22px; flex:0 0 22px; }
.nav-label{
  white-space:nowrap; overflow:hidden;
  max-width:0; opacity:.0;
  font-size:1.1rem; font-weight:600; letter-spacing:.01em;
  transition:max-width .28s ease, opacity .28s ease;
}
.nav-pill:hover .nav-label,.nav-pill:focus-visible .nav-label{ max-width:20ch; opacity:1; }

.session-area{display:flex;gap:.5.0rem;align-items:center}
.user-badge{background:rgba(255,255,255,.18);padding:.35.0rem .6.0rem;border-radius: var(--radius-pill);font-size:.9rem}
.btn-logout{background:var(--white)fff20;border:1px solid var(--white)fff40;color:var(--white);padding:.35.0rem .6.0rem;border-radius: var(--radius-2);cursor:pointer}
.btn-logout:hover{background:var(--white)fff30}

.menu-toggle{display:none;font-size:1.5rem;cursor:pointer}
.theme-switch-wrapper{display:flex;align-items:center}
header > .theme-switch-wrapper{ margin-left:auto; order:99; }
.theme-switch{display:inline-block;height:30px;position:relative;width:54px}
.theme-switch input{display:none}
.slider{background:#c9d5e7;position:absolute;inset:0;border-radius:30px;cursor:pointer;transition:.3s}
.slider:before{content:"";position:absolute;left:3px;bottom:3px;height:24px;width:24px;border-radius:50%;background:var(--white);transition:.3s}
input:checked + .slider{background:#004aad}
input:checked + .slider:before{transform:translateX(24px)}

body.no-session nav,
body.no-session .session-area{ display:none !important; }

@media (max-width:768px){
  .logo{height:44px}
  header{padding:.6rem .8rem}
  .menu-toggle{ display:block; margin-left:.25rem; color:var(--white); line-height:1; }
  nav{flex:0 0 auto;position:absolute;top:100%;left:0;right:0;background:#0b4fa0;display:none;box-shadow:0 2px 6px rgba(0,0,0,.35);z-index:100}
  nav.active{display:block}
  nav ul{flex-direction:column;gap:0}
  nav li{border-top:1px solid var(--white)fff1a}
  nav li:last-child{border-bottom:1px solid var(--white)fff1a}
  .nav-pill{justify-content:flex-start;width:100%;border-radius:0;padding:.8rem 1rem}
  .nav-label{max-width:100%;opacity:1}
}

/* === Theme switch with intuitive icons (◐ / ◑) === */
.theme-switch .slider:before{
  display:flex; align-items:center; justify-content:center;
  content:"\25D0"; /* ◐ */
  color:#0e1726; /* icon color inside white knob */
  font-size: var(--fs-sm); line-height:1;
}
.theme-switch input:checked + .slider:before{
  content:"\25D1"; /* ◑ */
  transform:translateX(24px);
}

/* Standardized horizontal padding via token */
header{ padding-left: var(--header-pad-x); padding-right: var(--header-pad-x); }


/* Mobile: hamburger left | logo center | switch right */
@media (max-width: 768px){
  header{ position: relative; display:flex; align-items:center; }
  .menu-toggle{ order:1; margin-right: var(--space-2); }
  .brand{ order:2; position:absolute; left:50%; transform: translateX(-50%); }
  .theme-switch-wrapper{ order:3; margin-left:auto; }
}



/* === Mobile layout normalization & alignment === */
@media (max-width: 768px){
  header{ position: relative; display:flex; align-items:center; }
  .menu-toggle{ order:1; margin-right: var(--space-2); }
  .session-area{ order:2; }
  .brand{ order:3; position:absolute; left:50%; transform:translateX(-50%); }
  .theme-switch-wrapper{ order:4; margin-left:auto; }
  /* Badge hidden on small screens to prevent overlap */
  .user-badge{ display:none !important; }
  /* Align menu items with the same header horizontal padding */
  nav{ padding-left: var(--header-pad-x); padding-right: var(--header-pad-x); text-align:left; }
  nav ul{ display:flex; gap: var(--space-4); }
}



/* === Logout icon-only (all breakpoints) & pill styling === */
.btn-logout.nav-pill{
  display:inline-flex; align-items:center; justify-content:center;
  background: var(--c1); color: var(--white);
  border:none; border-radius: var(--radius-pill);
  padding: .45rem .6rem; width:auto; flex:0 0 auto;
  cursor:pointer; transition: background .2s ease, box-shadow .2s ease;
}
.btn-logout.nav-pill:hover{ background: var(--c1-dark); }
.btn-logout.nav-pill .nav-ic{ width:20px; height:20px; }
/* hide text label at all sizes */
.btn-logout .nav-label{ display:none !important; }


body.no-session .menu-toggle{ display:none !important; }

/* === PATCH: mobile hamburger dropdown (append-only, no desktop impact) === */
@media (max-width: 768px){
  header .menu-toggle{
    display: inline-block;
    font-size: 1.4rem;
    line-height: 1;
    padding: .25rem .4rem;
    cursor: pointer;
  }
  /* nav hidden by default in mobile */
  header nav{ display: none; width: 100%; }
  /* when open, allow wrap and show nav below header */
  body.nav-open header{ flex-wrap: wrap; }
  body.nav-open header nav{ display: block; width: 100%; margin-top: 8px; }
  body.nav-open header nav ul{
    display: flex;
    flex-direction: column;
    gap: .35rem;
    padding: 0; margin: 0;
    align-items: flex-start;
  }
}
