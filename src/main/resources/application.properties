spring.application.name=letelier-optica
server.port=8080
spring.web.resources.cache.period=0
spring.h2.console.enabled=true
spring.h2.console.path=/h2
# Auth por sesión (JWT removido)

# CORS (ajusta si usas LivePreview 3000)
app.cors.allowed-origins=http://localhost:8080,http://localhost:3000,http://127.0.0.1:3000
# === LETELIER: DB local en archivo (dev) ===
spring.datasource.url=jdbc:h2:file:./data/letelier-db;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=update

# Consola H2 solo para desarrollo (opcional)
spring.h2.console.enabled=true
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# --- SQL init automático (H2 desarrollo) ---
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:db/seed/seed-letelier.sql
spring.jpa.defer-datasource-initialization=true

# Flyway deshabilitado en DEV/base (se habilita en prod)
spring.flyway.enabled=false

# Log detallado de Spring Security (solo DEV)
logging.level.org.springframework.security=DEBUG
# Útil para ver requests/respuestas sin tanto ruido
logging.level.org.springframework.web=INFO

# Permitir iframes/VSCode Simple Browser en DEV
app.dev.allow-iframe=true
